"use strict";!function(){var e=($(window),$("document")),t=$("body");e.ready(function(){!function(){$('[data-function="datepicker"] input[type="radio"]').on("change",function(e){var t=$(e.currentTarget),a=(new Date(t.data("date")),t.data("humandate")),i=({$el:t.closest(".modal"),id:t.closest(".modal")[0].id},t.closest("form").find('[data-function="form-feedback"]'));i.html(a+" is selected. Thank you for selecting a date!")})}();var e=function(){var e={},t={default:{iframe:{attributes:'webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0"',width:560,height:315}},is:{},get:{youtube:{},vimeo:{}}};return t.default.iframe.template=function(e){return'\n        <iframe src="'+e+'"\n          width="'+t.default.iframe.width+'"\n          height="'+t.default.iframe.height+'"\n          '+t.default.iframe.attributes+"></iframe>\n      "},t.get.vimeo.idByUrl=function(e){var t=!1;return $.ajax({url:"https://vimeo.com/api/oembed.json?url="+e,type:"GET",success:function(e){e.video_id&&(t=e.video_id)}}),t},t.get.youtube.idByUrl=function(e){var t=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=e.match(t);return!(!a||11!=a[2].length)&&a[2]},t.get.youtube.embedUrl=function(a){if(t.is.video(a)&&t.is.youtube(a)){var i=t.get.youtube.idByUrl(a),o="&autoplay="+(e.autoplay?1:0);return"//www.youtube.com/embed/"+i+"?"+o}},t.get.vimeo.embedUrl=function(a){if(t.is.video(a)&&t.is.vimeo(a)){var i=t.get.vimeo.idByUrl(a),o="&autoplay="+(e.autoplay?1:0);return"//player.vimeo.com/video/"+i+"?badge=0"+o}},t.get.youtube.embed=function(e){var a=t.get.youtube.embedUrl(e);return t.default.iframe.template(a)},t.get.vimeo.embed=function(e){var a=t.get.vimeo.embedUrl(e);return t.default.iframe.template(a)},t.is.youtube=function(e){return!!t.get.youtube.idByUrl(e)},t.is.vimeo=function(e){return!!t.get.vimeo.idByUrl(e)},t.is.video=function(e){return!!t.is.youtube||!!t.is.vimeo},t.get.videoType=function(e){return t.is.youtube(e)?"youtube":t.is.vimeo(e)?"vimeo":"unknown"},t.get.iframe=function(a,i){if(e.autoplay=i.autoplay,t.is.video(a)){var o=t.get.videoType(a);return t.get[o].embed(a)}return console.warn("Media url type is unknown."),!1},{is:t.is,get:t.get}}();!function(){var a={placeholder:function(){return'<div class="embed-responsive-item placeholder-block"></div>'},modal:function(){return'\n          <div class="modal fade" id="modal--primary" tabindex="-1" role="dialog" aria-labelledby="Modal Window" aria-hidden="true">\n            <div class="modal-dialog" role="document">\n              <div class="modal-content">\n                <div class="modal-header">\n                  <a class="close modal__btn-close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true"><img src="'+__DATA.get("site").dir.images+"/"+__DATA.get("site").icons.btnClose+'"/></span>\n                  </a>\n                </div>\n                <div class="modal-body">\n                  '+a.placeholder()+"\n                </div>\n              </div>\n            </div>\n          </div>"},wrapper:function(e){return'\n          <div role="media" class="media-container embed-responsive embed-responsive-16by9">\n            '+(e?e:null)+"\n          </div>"}};$('[data-toggle="modal"][data-media-url]').on("click",function(i){var o=$(i.currentTarget),n={url:o.data("media-url"),autoplay:!!o.data("media-autoplay"),controls:!!o.data("media-controls")},r={$el:$(o.data("target")),target:o.data("target")};$(r.target).length||($(a.modal()).appendTo(t),r.$el=$(r.target)),r.$el.one("show.bs.modal",function(t){r.$el.find(".modal-body").html(a.wrapper(e.get.iframe(n.url,{autoplay:n.autoplay})))}).one("hide.bs.modal",function(e){r.$el.find(".modal-body").html(a.wrapper(a.placeholder()))})})}()})}();