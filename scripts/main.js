"use strict";var MEDIA=function(){var e={},a={default:{iframe:{attributes:'webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0"',width:560,height:315}},is:{},get:{youtube:{},vimeo:{}}};return a.default.iframe.template=function(e){return'\n    <iframe src="'+e+'"\n      width="'+a.default.iframe.width+'"\n      height="'+a.default.iframe.height+'"\n      '+a.default.iframe.attributes+"></iframe>\n  "},a.get.vimeo.idByUrl=function(e){var a=!1;return $.ajax({url:"https://vimeo.com/api/oembed.json?url="+e,type:"GET",success:function(e){e.video_id&&(a=e.video_id)}}),a},a.get.youtube.idByUrl=function(e){var a=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,t=e.match(a);return!(!t||11!=t[2].length)&&t[2]},a.get.youtube.embedUrl=function(t){if(a.is.video(t)&&a.is.youtube(t)){var i=a.get.youtube.idByUrl(t),o="&autoplay="+(e.autoplay?1:0);return"//www.youtube.com/embed/"+i+"?"+o}},a.get.vimeo.embedUrl=function(t){if(a.is.video(t)&&a.is.vimeo(t)){var i=a.get.vimeo.idByUrl(t),o="&autoplay="+(e.autoplay?1:0);return"//player.vimeo.com/video/"+i+"?badge=0"+o}},a.get.youtube.embed=function(e){var t=a.get.youtube.embedUrl(e);return a.default.iframe.template(t)},a.get.vimeo.embed=function(e){var t=a.get.vimeo.embedUrl(e);return a.default.iframe.template(t)},a.is.youtube=function(e){return!!a.get.youtube.idByUrl(e)},a.is.vimeo=function(e){return!!a.get.vimeo.idByUrl(e)},a.is.video=function(){return!!a.is.youtube||!!a.is.vimeo},a.get.videoType=function(e){return a.is.youtube(e)?"youtube":a.is.vimeo(e)?"vimeo":"unknown"},a.get.iframe=function(t,i){if(e.autoplay=i.autoplay,a.is.video(t)){var o=a.get.videoType(t);return a.get[o].embed(t)}return console.warn("Media url type is unknown."),!1},{is:a.is,get:a.get}}(),MEDIA$1={is:MEDIA.is,get:MEDIA.get},mediaModal=function(){var e={};return e.init=function(){e.registerEvents()},e.registerEvents=function(){$('[data-toggle="modal"][data-media-url]').on("click",function(e){var a=$(e.currentTarget),t={url:a.data("media-url"),autoplay:!!a.data("media-autoplay"),controls:!!a.data("media-controls")},i={$el:$(a.data("target")),target:a.data("target")};$(i.target).length||($(mediaModal.modalTemplate()).appendTo($("body")),i.$el=$(i.target)),i.$el.one("show.bs.modal",function(){i.$el.find(".modal-body").html(mediaModal.wrapperTemplate(MEDIA$1.get.iframe(t.url,{autoplay:t.autoplay})))}).one("hide.bs.modal",function(){i.$el.find(".modal-body").html(mediaModal.wrapperTemplate(mediaModal.placeholderTemplate()))})})},e.placeholderTemplate=function(){return'<div class="embed-responsive-item placeholder-block"></div>'},e.modalTemplate=function(){return'\n    <div class="modal fade" id="modal--primary" tabindex="-1" role="dialog" aria-labelledby="Modal Window" aria-hidden="true">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <a class="close modal__btn-close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true"><img src="images/icon__btn-x.png"/></span>\n            </a>\n          </div>\n          <div class="modal-body">\n            '+e.placeholderTemplate()+"\n          </div>\n        </div>\n      </div>\n    </div>"},e.wrapperTemplate=function(e){return'\n    <div role="media" class="media-container embed-responsive embed-responsive-16by9">\n      '+(e?e:null)+"\n    </div>"},{init:e.init,placeholderTemplate:e.placeholderTemplate,modalTemplate:e.modalTemplate,wrapperTemplate:e.wrapperTemplate}}(),mediaModal$1={init:mediaModal.init,placeholderTemplate:mediaModal.placeholderTemplate,wrapperTemplate:mediaModal.wrapperTemplate,modalTemplate:mediaModal.modalTemplate};!function(){$("document").ready(function(){mediaModal$1.init()})}();